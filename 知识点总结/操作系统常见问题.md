 # 操作系统
---
* 进程与线程的区别和联系  
  答：进程是资源分配的单位、线程是CPU调度的单位；进程拥有一个完整的资源平台、线程只独享寄存器和栈空间；进程和线程都拥有就绪、执行、阻塞三种状态；线程可以减少并发执行的时间和空间开销-线程的创建和终止时间比进程的要短、线程间的切换时间比进程短、线程可以通过共享用户空间进行线程间通信而进程需要陷入内核。  
    
* 一个进程可以创建多少线程，和什么有关  
  答：一个操作系统一般能创建4096个进程，可以通过ulimit -u指令修改，因为pid_t是一个short类型的变量，理论上可以存在32768个进程；而一个进程可以创建多少个线程，由操作系统的位数和栈大小决定，如果是32位的系统，一个进程拥有4g内存空间，分配给用户3g，而每个线程需要独享1m或者10m的栈空间，所以最多创建3000后者300个线程。  
    
* 一个程序从开始运行到结束的完整过程（四个过程）  
  答：开始->阻塞->就绪<->运行->结束(或阻塞)。  
    
* 进程通信方法（Linux和windows下），线程通信方法（Linux和windows下）  
  答：进程通信-管道、fifo、信号量、共享内存、消息队列；线程通信-信号量、锁、条件变量；  
    
* 文件读写使用的系统调用  
  答：open() close() read() write()  
    
* 怎么回收线程  
  答:pthread_exit()-单个线程结束、pthread_join()-同一进程的其他线程阻塞等待线程的结束（调用pthread_exit）、pthread_cancel()-另一线程请求结束该线程。  
    
* 守护进程、僵尸进程和孤儿进程  
  答：守护进程-运行在后台，没有用户接口；僵尸进程-子进程先结束，父进程没有调用wait函数回收子进程，父进程结束后到被init进程接收之前的状态；孤儿进程-父进程提前结束，被init进程接收后的状态。  
    
* [处理僵尸进程的两种经典方法](https://www.cnblogs.com/scut-fm/archive/2013/10/29/3393686.html)
  
* 进程终止的几种方式  
  答：正常结束-从main函数返回、调用exit函数、最后一个线程结束；异常终止-abort函数、异常退出（超时、内存不足、越界访问、特权指令、保护错误等）、信号终止（ctrl+c）。    
    
* linux中异常和中断的区别  
  答：中断-与当前执行进程无关的、异步发生的、独立的外部事件，如：时钟中断、IO中断、内存错误；异常-当前正在执行进程所产生的的错误，如：。  
    
* 一般情况下在Linux/windows平台下栈空间的大小  
  答：1024KB或10MB   
    
*  五种IO模型  
  答：阻塞IO、非阻塞IO、多路复用IO、信号驱动IO、异步IO。  
    
* 程序从堆中动态分配内存时，虚拟内存上怎么操作的  
  答：
* 交换空间与虚拟内存的关系
* 堆和栈的区别；从堆和栈上建立对象哪个快？（考察堆和栈的分配效率比较）  
  答：堆和栈在内存的位置不同、地址的增长方向不同、操作者不同；栈比较快，由操作系统控制，且没有搜索合适内存的步骤。  
    
* 内存泄漏和内存溢出  
  答：内存泄漏-申请的空间没有被释放；内存溢出-申请或者操作的空间超出允许范围。  
    
* 常见内存分配方式和错误  
  答：
* 堆内存和栈内存的区别
* [可重入函数和可重入内核](https://blog.csdn.net/chj1234chj/article/details/78162443?locationNum=7&fps=1)
* 操作系统动态内存分配的几种策略
* 内部碎片和外部碎片
* 系统调用进入内核态的过程
* 内核态和用户态的区别  
  答：
    
* 常见的进程调度算法以及linux的进程调度
* 中断、陷阱、故障和终止
* 内存对齐的规则和作用
* 页面置换算法  
  答：LRU-最近最久未使用 FIFO-先入先出 CLOCK-时钟置换算法 DCLOCK-二次机会时钟置换算法（区分读写） NFU-最不常用算法；局部页面置换和全局页面置换（定义一个工作集窗口，某个页面如果不在工作集窗口中，即使没有产生缺页中断也要被换出）。  
  ···
  
  ···
    
- 实现一个LRU页置换算法（或者FIFO置换算法）  
  答：通过链表实现，最近使用的页面放在链表表头、每次页面置换则置换链表尾部页面。  
    
- 死锁的必要条件（怎么检测死锁，解决死锁问题）,银行家算法（死锁避免）  
  答：四个条件-不可抢占、互斥、请求与保持、环路等待；针对上述的四个条件-资源可被抢占、一个资源可以给多个进程提供服务、当请求资源不成功时进程释放已占有资源、资源按序分配；银行家算法-安全状态。  
    
- 哲学家就餐，读者写者，生产者消费者（怎么加锁解锁，伪代码）
- 海量数据的bitmap使用原理
- 布隆过滤器原理与优点
- 布隆过滤器处理大规模问题时的持久化，包括内存大小受限、磁盘换入换出问题
